{"version":3,"sources":["utils/validator.js","utils/storage.js","components/text-field.jsx","components/modal.jsx","components/modal-overlay.jsx","pages/form.jsx","utils/getAge.js","components/card.jsx","pages/home.jsx","app.jsx","index.js"],"names":["validator","data","config","errors","validate","validateMethod","trim","message","length","test","Number","Date","now","getFullYear","fieldName","error","getData","JSON","parse","localStorage","getItem","TextField","label","type","name","value","max","min","onChange","className","htmlFor","id","style","color","Modal","visible","onVisible","to","onClick","ModalOverlay","initalState","firstName","lastName","yearOfBirth","portfolio","Form","useState","setaData","setErrors","modalVisible","setModalVisible","handleChange","target","prevState","validatorConfig","isRequired","isValidName","isValidYear","isURL","useEffect","Object","keys","isValid","handleModal","onSubmit","e","preventDefault","setItem","stringify","noValidate","disabled","getAge","age","Math","floor","getTime","toString","Card","href","rel","Home","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0f6884d2.chunk.js","sourcesContent":["const validator = (data, config) => {\n  const errors = {};\n\n  const validate = (validateMethod, data, config) => {\n    switch (validateMethod) {\n      case 'isRequired':\n        if (!data.trim()) return config.message;\n        break;\n      case 'isValidName': {\n        const length = data.trim().length;\n        if (length < 3 || length > 20) return config.message;\n        break;\n      }\n      case 'isURL': {\n        const urlRegExp = /^http(s)?:\\/\\/\\S+\\.[a-z]+(\\/)?$/g;\n        if (!urlRegExp.test(data)) return config.message;\n        break;\n      }\n      case 'isValidYear': {\n        if (\n          Number(data) < 1930 ||\n          Number(data) > new Date(Date.now()).getFullYear()\n        )\n          return config.message;\n        break;\n      }\n      default:\n        break;\n    }\n  };\n\n  for (const fieldName in data) {\n    for (const validateMethod in config[fieldName]) {\n      const error = validate(\n        validateMethod,\n        data[fieldName],\n        config[fieldName][validateMethod]\n      );\n\n      if (error && !errors[fieldName]) {\n        errors[fieldName] = error;\n      }\n    }\n  }\n\n  return errors;\n};\n\nexport default validator;\n","const getData = () => {\n  return JSON.parse(localStorage.getItem('student'));\n}\n\nexport default getData;","import React from 'react';\n\nconst TextField = ({\n  label,\n  type = 'text',\n  name,\n  value,\n  error,\n  max,\n  min,\n  onChange,\n}) => {\n  return (\n    <div className=\"mb-1\">\n      <label htmlFor={name} className=\"form-label\">\n        {label}\n      </label>\n      <input\n        type={type}\n        className={`form-control${error ? ' is-invalid' : ''}`}\n        id={name}\n        name={name}\n        value={value}\n        min={min}\n        max={max}\n        onChange={onChange}\n      />\n      {error ? (\n        <div className=\"invalid-feedback\">{error}</div>\n      ) : (\n        <div style={{ color: 'transparent' }}>Not error</div>\n      )}\n    </div>\n  );\n};\n\nexport default TextField;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Modal = ({ visible, onVisible }) => {\n  return (\n    <div className={`modal-window shadow ${visible ? 'modal-open' : ''}`}>\n      <div className=\"modal-content\">\n        <div className=\"modal-body text-center\">\n          <p className=\"mb-0 fs-4\">Data updated!</p>\n        </div>\n        <div className=\"modal-footer\">\n          <Link to='/react-student-card/'>\n            <button\n              onClick={onVisible}\n              type=\"button\"\n              className=\"btn btn-outline-primary px-4\"\n              data-bs-dismiss=\"modal\"\n            >\n              Close\n            </button>\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React from 'react';\n\nconst ModalOverlay = ({ visible }) => {\n  return <div className={`modal-overlay${visible ? ' overlay-visible' : ''}`}></div>;\n};\n\nexport default ModalOverlay;\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport validator from '../utils/validator';\nimport getData from '../utils/storage';\nimport TextField from '../components/text-field';\nimport Modal from '../components/modal';\nimport ModalOverlay from '../components/modal-overlay';\n\nconst initalState = {\n  firstName: '',\n  lastName: '',\n  yearOfBirth: '',\n  portfolio: '',\n};\n\nconst Form = () => {\n  const [data, setaData] = useState(getData() || initalState);\n  const [errors, setErrors] = useState({});\n  const [modalVisible, setModalVisible] = useState(false);\n\n  const handleChange = ({ target }) => {\n    setaData((prevState) => ({ ...prevState, [target.name]: target.value }));\n  };\n\n  const validatorConfig = {\n    firstName: {\n      isRequired: { message: 'First name is required' },\n      isValidName: {\n        message: 'Field must contain at least 3 and no more than 20 characters',\n      },\n    },\n    lastName: { isRequired: { message: 'Last name is required' } },\n    yearOfBirth: {\n      isRequired: { message: 'Year of birth is required' },\n      isValidYear: {\n        message: `Value should not be less than 1930 and more than ${new Date(\n          Date.now()\n        ).getFullYear()}`,\n      },\n    },\n    portfolio: {\n      isRequired: { message: 'Portfolio URL is required' },\n      isURL: { message: 'URL is not entered correctly' },\n    },\n  };\n\n  useEffect(() => {\n    validate();\n    // eslint-disable-next-line\n  }, [data]);\n\n  const validate = () => {\n    const errors = validator(data, validatorConfig);\n\n    setErrors(errors);\n    return !Object.keys(errors).length;\n  };\n\n  const isValid = !Object.keys(errors).length;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const isValid = validate();\n    if (!isValid) return;\n    localStorage.setItem('student', JSON.stringify(data));\n  };\n\n  const handleModal = () => {\n    setModalVisible((prevState) => !prevState);\n  };\n\n  return (\n    <>\n      <ModalOverlay visible={modalVisible} />\n      <Modal visible={modalVisible} onVisible={handleModal} />\n\n      <div className=\"row\">\n        <h2 className=\"mb-3 text-center\">{getData() ? 'Edit' : 'Create'} Card</h2>\n        <form onSubmit={handleSubmit} noValidate>\n          <TextField\n            label=\"First Name\"\n            name=\"firstName\"\n            value={data.firstName}\n            error={errors.firstName}\n            onChange={handleChange}\n          />\n          <TextField\n            label=\"Last Name\"\n            name=\"lastName\"\n            value={data.lastName}\n            error={errors.lastName}\n            onChange={handleChange}\n          />\n          <TextField\n            label=\"Year of Birth\"\n            type=\"number\"\n            name=\"yearOfBirth\"\n            value={data.yearOfBirth}\n            error={errors.yearOfBirth}\n            min={1930}\n            max={new Date(Date.now()).getFullYear()}\n            onChange={handleChange}\n          />\n          <TextField\n            label=\"Portfolio\"\n            name=\"portfolio\"\n            value={data.portfolio}\n            error={errors.portfolio}\n            onChange={handleChange}\n          />\n          <div className=\"btn-group mt-4\">\n            <Link className=\"btn btn-outline-secondary\" to=\"/react-student-card/\">\n                Home\n            </Link>\n            <button\n              onClick={handleModal}\n              className=\"btn btn-outline-primary\"\n              disabled={!isValid}\n            >\n              {getData() ? 'Edit' : 'Create'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default Form;\n","import getData from './storage';\n\nconst getAge = () => {\n  const { yearOfBirth } = getData();\n  const age = Math.floor(\n    (Date.now() - new Date(yearOfBirth).getTime()) / 3.154e10\n  );\n  return `( ${age.toString()} years old )`;\n};\n\nexport default getAge;\n","import React from 'react';\nimport getData from '../utils/storage';\nimport getAge from '../utils/getAge';\nimport { Link } from 'react-router-dom';\n\nconst Card = () => {\n  const { firstName, lastName, yearOfBirth, portfolio } = getData();\n\n  return (\n    <div className=\"row\">\n      <div className=\"d-flex flex-column\">\n        <h2 className=\"mb-2\">Student Card</h2>\n        <h5 className=\"mb-2\">\n          {firstName} {lastName}\n        </h5>\n        <p>\n          {yearOfBirth} {getAge()}\n        </p>\n        <div className=\"mb-3\">\n          Portfolio:{' '}\n          <a href={portfolio} target=\"_blank\" rel=\"noreferrer\">\n            {portfolio}\n          </a>\n        </div>\n        <Link className=\"btn btn-outline-primary w-100\" to=\"/react-student-card/form\">\n          Edit\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport getData from '../utils/storage';\nimport Card from '../components/card';\n\nconst Home = () => {\n  return (\n    <>\n      {!getData() ? (\n        <div className=\"row\">\n          <div className=\"text-center p-5\">\n            <h1>Student Card</h1>\n            <p className=\"fs-5\">No data available</p>\n            <Link className=\"btn btn-outline-primary px-5\" to=\"/react-student-card/form\">\n              Add\n            </Link>\n          </div>\n        </div>\n      ) : (\n        <Card />\n      )}\n    </>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport Form from './pages/form';\nimport Home from './pages/home';\n\nfunction App() {\n\n  return (\n    <div className=\"app container d-flex align-items-center justify-content-center text-muted pt-5\">\n      <Switch>\n        <Route path=\"/react-student-card/form\">\n          <Form />\n        </Route>\n        <Route path=\"/react-student-card/\">\n          <Home />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport './index.css';\nimport App from './app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}