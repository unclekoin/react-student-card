(this["webpackJsonpstudent-card"]=this["webpackJsonpstudent-card"]||[]).push([[0],{23:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a.n(r),n=a(14),c=a.n(n),i=a(5),l=(a(21),a(22),a(23),a(2)),o=a(7),d=a(11),b=a(8),m=function(e,t){var a={},r=function(e,t,a){switch(e){case"isRequired":if(!t.trim())return a.message;break;case"isValidName":var r=t.trim().length;if(r<3||r>20)return a.message;break;case"isURL":if(!/^http(s)?:\/\/\S+\.[a-z]+(\/)?$/g.test(t))return a.message;break;case"isValidYear":if(Number(t)<1930||Number(t)>new Date(Date.now()).getFullYear())return a.message}};for(var s in e)for(var n in t[s]){var c=r(n,e[s],t[s][n]);c&&!a[s]&&(a[s]=c)}return a},j=function(){return JSON.parse(localStorage.getItem("student"))},u=a(0),h=function(e){var t=e.label,a=e.type,r=void 0===a?"text":a,s=e.name,n=e.value,c=e.error,i=e.max,l=e.min,o=e.onChange;return Object(u.jsxs)("div",{className:"mb-1",children:[Object(u.jsx)("label",{htmlFor:s,className:"form-label",children:t}),Object(u.jsx)("input",{type:r,className:"form-control".concat(c?" is-invalid":""),id:s,name:s,value:n,min:l,max:i,onChange:o}),c?Object(u.jsx)("div",{className:"invalid-feedback",children:c}):Object(u.jsx)("div",{style:{color:"transparent"},children:"Not error"})]})},f=function(e){var t=e.visible,a=e.onVisible;return Object(u.jsx)("div",{className:"modal-window shadow ".concat(t?"modal-open":""),children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsx)("div",{className:"modal-body text-center",children:Object(u.jsx)("p",{className:"mb-0 fs-4",children:"Data updated!"})}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)(i.b,{to:"/react-student-card/",children:Object(u.jsx)("button",{onClick:a,type:"button",className:"btn btn-outline-primary px-4","data-bs-dismiss":"modal",children:"Close"})})})]})})},O=function(e){var t=e.visible;return Object(u.jsx)("div",{className:"modal-overlay".concat(t?" overlay-visible":"")})},x={firstName:"",lastName:"",yearOfBirth:"",portfolio:""},v=function(){var e=Object(r.useState)(j()||x),t=Object(b.a)(e,2),a=t[0],s=t[1],n=Object(r.useState)({}),c=Object(b.a)(n,2),l=c[0],v=c[1],N=Object(r.useState)(!1),p=Object(b.a)(N,2),g=p[0],y=p[1],w=function(e){var t=e.target;s((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(o.a)({},t.name,t.value))}))},C={firstName:{isRequired:{message:"First name is required"},isValidName:{message:"Field must contain at least 3 and no more than 20 characters"}},lastName:{isRequired:{message:"Last name is required"}},yearOfBirth:{isRequired:{message:"Year of birth is required"},isValidYear:{message:"Value should not be less than 1930 and more than ".concat(new Date(Date.now()).getFullYear())}},portfolio:{isRequired:{message:"Portfolio URL is required"},isURL:{message:"URL is not entered correctly"}}};Object(r.useEffect)((function(){S()}),[a]);var S=function(){var e=m(a,C);return v(e),!Object.keys(e).length},k=!Object.keys(l).length,D=function(){y((function(e){return!e}))};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(O,{visible:g}),Object(u.jsx)(f,{visible:g,onVisible:D}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("h2",{className:"mb-3 text-center",children:[j()?"Edit":"Create"," Card"]}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S()&&localStorage.setItem("student",JSON.stringify(a))},noValidate:!0,children:[Object(u.jsx)(h,{label:"First Name",name:"firstName",value:a.firstName,error:l.firstName,onChange:w}),Object(u.jsx)(h,{label:"Last Name",name:"lastName",value:a.lastName,error:l.lastName,onChange:w}),Object(u.jsx)(h,{label:"Year of Birth",type:"number",name:"yearOfBirth",value:a.yearOfBirth,error:l.yearOfBirth,min:1930,max:new Date(Date.now()).getFullYear(),onChange:w}),Object(u.jsx)(h,{label:"Portfolio",name:"portfolio",value:a.portfolio,error:l.portfolio,onChange:w}),Object(u.jsxs)("div",{className:"btn-group mt-4",children:[Object(u.jsx)(i.b,{className:"btn btn-outline-secondary",to:"/react-student-card/",children:"Home"}),Object(u.jsx)("button",{onClick:D,className:"btn btn-outline-primary",disabled:!k,children:j()?"Edit":"Create"})]})]})]})]})},N=function(){var e=j().yearOfBirth,t=Math.floor((Date.now()-new Date(e).getTime())/3154e7);return"( ".concat(t.toString()," years old )")},p=function(){var e=j(),t=e.firstName,a=e.lastName,r=e.yearOfBirth,s=e.portfolio;return Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("h2",{className:"mb-2",children:"Student Card"}),Object(u.jsxs)("h5",{className:"mb-2",children:[t," ",a]}),Object(u.jsxs)("p",{children:[r," ",N()]}),Object(u.jsxs)("div",{className:"mb-3",children:["Portfolio:"," ",Object(u.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",children:s})]}),Object(u.jsx)(i.b,{className:"btn btn-outline-primary w-100",to:"/react-student-card/form",children:"Edit"})]})})},g=function(){return Object(u.jsx)(u.Fragment,{children:j()?Object(u.jsx)(p,{}):Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"text-center p-5",children:[Object(u.jsx)("h1",{children:"Student Card"}),Object(u.jsx)("p",{className:"fs-5",children:"No data available"}),Object(u.jsx)(i.b,{className:"btn btn-outline-primary px-5",to:"/react-student-card/form",children:"Add"})]})})})};var y=function(){return Object(u.jsx)("div",{className:"app container d-flex align-items-center justify-content-center text-muted pt-5",children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{path:"/react-student-card/form",children:Object(u.jsx)(v,{})}),Object(u.jsx)(l.a,{path:"/react-student-card/",children:Object(u.jsx)(g,{})})]})})};c.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(y,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.0f6884d2.chunk.js.map